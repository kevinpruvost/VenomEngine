\doxysection{Queue\+Order\+Pool.\+h}
\hypertarget{_queue_order_pool_8h_source}{}\label{_queue_order_pool_8h_source}\index{/Users/kevinpruvost/Bossing/Perso/VenomEngine/lib/vulkan/include/venom/vulkan/QueueOrderPool.h@{/Users/kevinpruvost/Bossing/Perso/VenomEngine/lib/vulkan/include/venom/vulkan/QueueOrderPool.h}}
\mbox{\hyperlink{_queue_order_pool_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_containers_8h}{venom/common/Containers.h}}>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_thread_8h}{venom/common/Thread.h}}>}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_queue_manager_8h}{venom/vulkan/QueueManager.h}}>}}
\DoxyCodeLine{00013\ \textcolor{preprocessor}{\#include\ <\mbox{\hyperlink{_venom_settings_8h}{venom/common/VenomSettings.h}}>}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevenom}{venom}}}
\DoxyCodeLine{00016\ \{}
\DoxyCodeLine{00017\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacevenom_1_1vulkan}{vulkan}}}
\DoxyCodeLine{00018\ \{}
\DoxyCodeLine{00019\ \textcolor{keyword}{class\ }QueueOrderPool}
\DoxyCodeLine{00020\ \{}
\DoxyCodeLine{00021\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00022\ \ \ \ \ QueueOrderPool();}
\DoxyCodeLine{00023\ \ \ \ \ \string~QueueOrderPool();}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ \textcolor{keyword}{struct\ }AllocatedSubmitInfo\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ AllocatedSubmitInfo()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ AllocatedSubmitInfo(\textcolor{keyword}{const}\ AllocatedSubmitInfo\&\ submitInfo)}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \ \ \ \ :\ waitSemaphores(submitInfo.waitSemaphores)}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ waitDstStageMasks(submitInfo.waitDstStageMasks)}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ commandBuffers(submitInfo.commandBuffers)}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ signalSemaphores(submitInfo.signalSemaphores)}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ AllocatedSubmitInfo\ \&\ operator=(\textcolor{keyword}{const}\ AllocatedSubmitInfo\&\ submitInfo)}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ waitSemaphores\ =\ submitInfo.waitSemaphores;}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \ \ \ \ waitDstStageMasks\ =\ submitInfo.waitDstStageMasks;}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \ \ \ \ commandBuffers\ =\ submitInfo.commandBuffers;}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ signalSemaphores\ =\ submitInfo.signalSemaphores;}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ vc::Vector<VkSemaphore>\ waitSemaphores;}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ vc::Vector<VkPipelineStageFlags>\ waitDstStageMasks;}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ vc::Vector<VkCommandBuffer>\ commandBuffers;}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ vc::Vector<VkSemaphore>\ signalSemaphores;}
\DoxyCodeLine{00046\ \ \ \ \ \};}
\DoxyCodeLine{00047\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_queue_submission_info}{QueueSubmissionInfo}}}
\DoxyCodeLine{00048\ \ \ \ \ \{}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ VkQueue\ queue;}
\DoxyCodeLine{00050\ \ \ \ \ \ \ \ \ VkFence\ fence;}
\DoxyCodeLine{00051\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_allocated_submit_info}{AllocatedSubmitInfo}}\ submitInfo;}
\DoxyCodeLine{00052\ \ \ \ \ \};}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \ \ \textcolor{keyword}{struct\ }AllocatedPresentInfo}
\DoxyCodeLine{00055\ \ \ \ \ \{}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ AllocatedPresentInfo()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ AllocatedPresentInfo(\textcolor{keyword}{const}\ AllocatedPresentInfo\&\ presentInfo)}
\DoxyCodeLine{00058\ \ \ \ \ \ \ \ \ \ \ \ \ :\ waitSemaphores(presentInfo.waitSemaphores)}
\DoxyCodeLine{00059\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ swapchains(presentInfo.swapchains)}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \ \ \ \ ,\ imageIndices(presentInfo.imageIndices)}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ AllocatedPresentInfo\ \&\ operator=(\textcolor{keyword}{const}\ AllocatedPresentInfo\&\ presentInfo)}
\DoxyCodeLine{00064\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \ \ \ \ waitSemaphores\ =\ presentInfo.waitSemaphores;}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \ \ \ \ swapchains\ =\ presentInfo.swapchains;}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \ \ \ \ imageIndices\ =\ presentInfo.imageIndices;}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ vc::Vector<VkSemaphore>\ waitSemaphores;}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ vc::Vector<VkSwapchainKHR>\ swapchains;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ vc::Vector<uint32\_t>\ imageIndices;}
\DoxyCodeLine{00073\ \ \ \ \ \};}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_queue_present_info}{QueuePresentInfo}}}
\DoxyCodeLine{00075\ \ \ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ VkQueue\ queue;}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_allocated_present_info}{AllocatedPresentInfo}}\ presentInfo;}
\DoxyCodeLine{00078\ \ \ \ \ \};}
\DoxyCodeLine{00079\ \ \ \ \ \textcolor{keyword}{enum}\ QueueOrderInfoType}
\DoxyCodeLine{00080\ \ \ \ \ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ QueueOrderInfoType\_Submit,}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ QueueOrderInfoType\_Present}
\DoxyCodeLine{00083\ \ \ \ \ \};}
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_queue_order_info}{QueueOrderInfo}}}
\DoxyCodeLine{00085\ \ \ \ \ \{}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ QueueOrderInfoType\ type;}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ std::variant<QueueSubmissionInfo,\ QueuePresentInfo>\ info;}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ union\ \{}}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ QueueSubmissionInfo\ submitInfo;}}
\DoxyCodeLine{00090\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ QueuePresentInfo\ presentInfo;}}
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ \};}}
\DoxyCodeLine{00092\ \ \ \ \ \};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keywordtype}{void}\ AddQueueOrder(\textcolor{keywordtype}{int}\ frameIndex,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structvenom_1_1vulkan_1_1_queue_order_pool_1_1_queue_order_info}{QueueOrderInfo}}\ \&\ info);}
\DoxyCodeLine{00095\ \textcolor{keyword}{private}:}
\DoxyCodeLine{00096\ \ \ \ \ vc::Array<vc::Queue<QueueOrderInfo>,\ VENOM\_MAX\_FRAMES\_IN\_FLIGHT>\ \_\_queueOrders;}
\DoxyCodeLine{00097\ \ \ \ \ vc::Vector<vc::Thread>\ \_\_queueSubmitThreads;}
\DoxyCodeLine{00098\ \ \ \ \ vc::Atomic<bool>\ \_\_stop;}
\DoxyCodeLine{00099\ \ \ \ \ vc::Array<vc::ConditionVariable,\ VENOM\_MAX\_FRAMES\_IN\_FLIGHT>\ \_\_cond;}
\DoxyCodeLine{00100\ \ \ \ \ vc::Array<vc::Mutex,\ VENOM\_MAX\_FRAMES\_IN\_FLIGHT>\ \_\_mutex;}
\DoxyCodeLine{00101\ \};}
\DoxyCodeLine{00102\ \}}
\DoxyCodeLine{00103\ \}}

\end{DoxyCode}
